\usepackage{booktabs}

\def\longtable{
    \table[$if(table.pos)$$table.pos$$else$!htb$endif$]
    \caption{\tcaption}\vspace{-15pt}
    \label{\tlabel}
    \renewcommand{\caption}[1]{}
    \renewcommand{\label}[1]{}
    \tabular
}
\def\endlongtable{
    \bottomrule
    \endtabular
    \endtable
}
\let\tabularnewline\relax
\let\endfirsthead\iffalse
\let\endlastfoot\fi
